Данная статья рассматривает процесс работы с исходным кодом проекта [Openbravo POS ru](http://code.google.com/p/openbravoposru/) средствами [NetBeans IDE](http://www.netbeans.org/).

# Получение исходного кода #
  1. Запустить **NetBeans**.
  1. Подключить репозитарий.
    * Перейти _Versioning -> Subversion -> Checkout..._.
    * Ввести в поле _Repository URL_ путь к основной **trunk** ветке репозитария `http://openbravoposru.googlecode.com/svn/trunk/`.
    * Для работы в режиме только чтения оставить остальные поля незаполненными и нажать _Next >_.
  1. Загрузить исходный код.
    * В поле _Local Folder_ выбрать место локального хранения репозитария.
    * Отметить _Skip "trunk" and checkout only its content_ для исходного кода напрямую в указанной папке без создания папки **trunk**.
    * Отметить _Scan for Netbeans Projects after Checkout_ для запуска диалога создания проекта NetBeans после загрузки исходного кода.
    * Нажать _Finish_.
  1. Ждать загрузки исходного кода из репозитария.

| ![![](http://farm4.static.flickr.com/3448/3987933646_80be27e67c_m.jpg)](http://farm4.static.flickr.com/3448/3987933646_123f1db3e2_o.png) | ![![](http://farm4.static.flickr.com/3526/3987934392_4c4a8f6a29_m.jpg)](http://farm4.static.flickr.com/3526/3987934392_6ed3d732b2_o.png) |
|:-----------------------------------------------------------------------------------------------------------------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------|
| **2** - Подключение                                                                                                                      | **3** - Загрузка                                                                                                                         |

# Создание проекта #

Проект в среде NetBeans может быть создан, как после загрузки исходного кода из репозитария, так и в любой другой момент из соответствующего пункта меню.
  1. Если была установлена соответствующая отметка при загрузке из репозитария, то после окончания процесса получения исходного кода появится окно с предложение создать новый проект. Нажать _Create Project..._.
  1. Выбрать проект.
    * Указать в категории **Java** тип проекта **Java Project with Existing Sources**.
    * Нажать _Next >_.
  1. Назвать и разместить проект.
    * Ввести название проекта в поле _Project Name_.
    * Указать путь где проект будет расположен проект _Poject Folder_.
    * Нажать _Next >_.
  1. Выбрать папки с исходным кодом.
    * Нажать _Add Folder..._.
    * Указать папки с исходным кодом:
```
 ./locales
 ./reports
 ./src-beans
 ./src-data
 ./src-erp
 ./src-pos
```
    * Нажать _Finish_.

| ![![](http://farm3.static.flickr.com/2639/3987934834_650a6bef1a_m.jpg)](http://farm3.static.flickr.com/2639/3987934834_a0a3d1b487_o.png) | ![![](http://farm3.static.flickr.com/2653/3987935268_fbf4211844_m.jpg)](http://farm3.static.flickr.com/2653/3987935268_a2999780e4_o.png) | ![![](http://farm3.static.flickr.com/2426/3987181281_eefcc7e7ff_m.jpg)](http://farm3.static.flickr.com/2426/3987181281_1d9556424a_o.png) | ![![](http://farm3.static.flickr.com/2427/3987935898_57d637a8d6_m.jpg)](http://farm3.static.flickr.com/2427/3987935898_4319c6b3bd_o.png) |
|:-----------------------------------------------------------------------------------------------------------------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------|
| **1** - Создние                                                                                                                          | **2** - Выбор                                                                                                                            | **3** - Размещение                                                                                                                       | **4** - Указание                                                                                                                         |

# Настройка проекта #

Все свойства определяющие среду в которой будет вестись работа над проекта и компиляция исходного кода находятся в окне _Project Properties_. Доступ к окну _Project Properties_ требуется перейти в _File -> Project Properties (**название проекта**)_.

## Добавление библиотек ##

С октября 2009 года репозитарий проекта [Openbravo POS ru](http://code.google.com/p/openbravoposru/) структурно был дополнен библиотеками (подробности [Issue 23](https://code.google.com/p/openbravoposru/issues/detail?id=23)) необходимыми для компиляции представленного исходного кода. До этого момента библиотеки необходимо было скачивать вместе с стабильным релизом на котором был основан исходный код.
  1. Открыть окно свойства проекта _Project Properties_.
  1. Перейти в категорию _Libraries_ на вкладку _Compile_
  1. Добавить библиотеки в список _Compile-time Libraties_.
    * Нажать кнопку _Add JAR/Folder_.
    * Перейти в папку _./lib_.
    * Выбрать пакеты следующих библиотек:
```
 ./lib/RXTXcomm.jar
 ./lib/axis.jar
 ./lib/barcode4j-light.jar
 ./lib/bsh-2.1b1.jar
 ./lib/commons-beanutils-1.8.0.jar
 ./lib/commons-codec-1.4.jar
 ./lib/commons-collections-3.2.1.jar
 ./lib/commons-digester-1.7.jar
 ./lib/commons-discovery-0.4.jar
 ./lib/commons-lang-2.4.jar
 ./lib/commons-logging-1.1.jar
 ./lib/iText-2.1.7.jar
 ./lib/jasperreports-4.0.1.jar
 ./lib/jaxrpc.jar
 ./lib/jcommon-1.0.16.jar
 ./lib/jdt-compiler-3.1.1.jar
 ./lib/jfreechart-1.0.13.jar
 ./lib/jpos113.jar
 ./lib/oro-2.0.8.jar
 ./lib/poi-3.7-20101029.jar
 ./lib/saaj.jar
 ./lib/substance-swingx.jar
 ./lib/substance.jar
 ./lib/swingx-1.0.jar
 ./lib/velocity-1.6.2.jar
 ./lib/wsdl4j.jar
```

  * Также следует добавить папку с шрифтами FreeFont (подробнее [Issue 22](https://code.google.com/p/openbravoposru/issues/detail?id=22)) для включения их в файлы PDF:
```
 ./lib/freefont-20100919
```
  1. Нажать _OK_.
| ![![](http://farm3.static.flickr.com/2557/4025316922_ea50f4288b_m.jpg)](http://farm3.static.flickr.com/2557/4025316922_4aedd1fcb2_o.png) |
|:-----------------------------------------------------------------------------------------------------------------------------------------|
| **3** - Добавление                                                                                                                       |

## Настройка параметров компиляции ##
Дополнительные настройки свойств требуются для правильной компиляции проекта.
  1. Открыть окно свойства проекта _Project Properties_.
  1. Перейти в категорию _Sources_.
  1. В поле _Source/Binary Format_ выбрать из списка значение **JDK 6**.
  1. Нажать _OK_.

## Настройка параметров запуска ##
Для отладки исходного кода требуется указать дополнительные параметры для запуска проекта после компиляции.
  1. Открыть окно свойства проекта _Project Properties_.
  1. Перейти в категорию _Run_.
  1. Выбрать в поле _Main Class_ класса для запуска.
    * Если требуется настроить запускаемую конфигурацию Openbravo POS ru ввести _com.openbravo.pos.config.JFrmConfig_.
    * Если требуются запустить Openbravo POS ru ввести `com.openbravo.pos.forms.StartPOS`.
  1. Установить параметры рабочей среды.
    * В поле _Arguments_ ввести путь и имя к файлу с конфигурацией системы Openbravo POS ru `/home/administrator/ProjectsNetBeans/OpenbravoPOSru/openbravoposru.properties`.
    * В поле _Working Directory_ ввести путь к рабочей директории `/home/administrator/ProjectsNetBeans/OpenbravoPOSru`.
| ![![](http://farm3.static.flickr.com/2713/4025317046_7cd7365338_m.jpg)](http://farm3.static.flickr.com/2713/4025317046_607b1ce066_o.png) |
|:-----------------------------------------------------------------------------------------------------------------------------------------|
| **3** и **4** - Выбор и установки                                                                                                        |

# Запуск проекта #